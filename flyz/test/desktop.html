<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>全彩动态电视壁纸</title>
    <!-- 国内CDN核心资源 -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.bootcdn.net/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <!-- 第三方动态背景库：particles.js（丝滑全彩粒子效果） -->
    <script src="https://cdn.bootcdn.net/ajax/libs/particles.js/2.0.0/particles.min.js"></script>
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        rainbow1: '#FF6B6B',
                        rainbow2: '#FFD166',
                        rainbow3: '#06D6A0',
                        rainbow4: '#118AB2',
                        rainbow5: '#073B4C',
                        white: '#FFFFFF',
                    },
                    fontFamily: {
                        microsoft: ['Microsoft YaHei', '微软雅黑', 'sans-serif'],
                    },
                }
            }
        }
    </script>
    
    <style type="text/tailwindcss">
        @layer utilities {
            /* 增强型彩色渐变文字（确保清晰可见） */
            .text-gradient-rainbow {
                background: linear-gradient(90deg, #FF6B6B, #FFD166, #06D6A0, #118AB2, #073B4C);
                background-size: 400% 400%;
                -webkit-background-clip: text;
                -moz-background-clip: text;
                background-clip: text;
                color: transparent;
                -webkit-text-fill-color: transparent;
                text-shadow: 0 2px 4px rgba(0, 0, 0, 0.15);
                animation: textGradient 8s ease infinite;
            }
            /* 翻页时钟样式（增强对比度） */
            .flip-clock {
                width: 65px;
                height: 95px;
                perspective: 1500px;
                display: inline-block;
                margin: 0 4px;
            }
            .flip-card {
                width: 100%;
                height: 100%;
                position: relative;
                transform-style: preserve-3d;
                transition: transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
                box-shadow: 0 6px 16px rgba(0, 0, 0, 0.18);
                border-radius: 10px;
                background: white;
            }
            .flip-card.flipped {
                transform: rotateX(180deg);
            }
            .flip-face {
                position: absolute;
                width: 100%;
                height: 100%;
                backface-visibility: hidden;
                border-radius: 10px;
                display: flex;
                align-items: center;
                justify-content: center;
                font-weight: 700;
                font-size: 3.2rem;
                font-family: 'Microsoft YaHei', '微软雅黑', sans-serif;
                /* 增强文字清晰度 */
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
                letter-spacing: -2px;
            }
            .flip-face.back {
                transform: rotateX(180deg);
            }
            /* Logo循环动态效果（更自然） */
            .animate-logo-float {
                animation: logoFloat 7s ease-in-out infinite;
            }
        }

        /* 核心动画定义 */
        /* 文字渐变动画 */
        @keyframes textGradient {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        /* Logo浮动动画 */
        @keyframes logoFloat {
            0% { transform: translateY(0px) rotate(0deg); }
            25% { transform: translateY(-6px) rotate(1deg); }
            50% { transform: translateY(0px) rotate(0deg); }
            75% { transform: translateY(-6px) rotate(-1deg); }
            100% { transform: translateY(0px) rotate(0deg); }
        }

        /* 全局样式 */
        body {
            font-family: 'Microsoft YaHei', '微软雅黑', sans-serif;
            overflow: hidden;
            margin: 0;
            padding: 0;
        }
        /* 粒子背景容器 */
        #particles-js {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            z-index: 0;
            background: linear-gradient(135deg, #073B4C, #118AB2, #06D6A0, #FFD166, #FF6B6B);
            background-size: 400% 400%;
            animation: bgGradient 20s ease infinite;
        }

        /* 背景渐变动画（与粒子效果叠加） */
        @keyframes bgGradient {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
    </style>
</head>

<!-- 第三方粒子动态背景 + 全彩渐变叠加 -->
<div id="particles-js"></div>

<!-- 主内容区（布局紧凑，层级高于背景） -->
<div class="relative z-10 h-screen flex flex-col items-center justify-center px-4">
    <!-- Logo（白色圆角，无边框，循环动态效果） -->
    <div class="absolute top-8 left-8 z-20 animate-logo-float">
        <div class="bg-white rounded-2xl p-3 shadow-lg">
            <img src="https://www.img520.com/UIGuUV.jpeg" alt="Logo" class="h-12 w-auto rounded-lg">
        </div>
    </div>

    <!-- 翻页时钟（居中靠上，彩色渐变文字） -->
    <div class="flex items-center gap-2 mb-8 z-10">
        <!-- 小时 -->
        <div class="flip-clock" data-digit="0">
            <div class="flip-card">
                <div class="flip-face front text-gradient-rainbow">0</div>
                <div class="flip-face back text-gradient-rainbow">0</div>
            </div>
        </div>
        <div class="flip-clock" data-digit="0">
            <div class="flip-card">
                <div class="flip-face front text-gradient-rainbow">0</div>
                <div class="flip-face back text-gradient-rainbow">0</div>
            </div>
        </div>
        
        <!-- 分隔符（彩色呼吸） -->
        <div class="text-3xl font-bold text-white mx-1 animate-pulse" style="animation-duration: 2s; text-shadow: 0 0 8px rgba(255,255,255,0.5);">:</div>
        
        <!-- 分钟 -->
        <div class="flip-clock" data-digit="0">
            <div class="flip-card">
                <div class="flip-face front text-gradient-rainbow">0</div>
                <div class="flip-face back text-gradient-rainbow">0</div>
            </div>
        </div>
        <div class="flip-clock" data-digit="0">
            <div class="flip-card">
                <div class="flip-face front text-gradient-rainbow">0</div>
                <div class="flip-face back text-gradient-rainbow">0</div>
            </div>
        </div>
        
        <!-- 分隔符 -->
        <div class="text-3xl font-bold text-white mx-1 animate-pulse" style="animation-duration: 2s; text-shadow: 0 0 8px rgba(255,255,255,0.5);">:</div>
        
        <!-- 秒钟 -->
        <div class="flip-clock" data-digit="0">
            <div class="flip-card">
                <div class="flip-face front text-gradient-rainbow">0</div>
                <div class="flip-face back text-gradient-rainbow">0</div>
            </div>
        </div>
        <div class="flip-clock" data-digit="0">
            <div class="flip-card">
                <div class="flip-face front text-gradient-rainbow">0</div>
                <div class="flip-face back text-gradient-rainbow">0</div>
            </div>
        </div>
    </div>

    <!-- 番茄钟（居中布局） -->
    <div class="bg-white/95 backdrop-blur-sm rounded-2xl p-6 shadow-xl w-72 text-center z-10">
        <!-- 时间显示（彩色渐变，点击修改） -->
        <div class="text-6xl font-bold mb-6 text-gradient-rainbow cursor-pointer hover:scale-105 transition-transform duration-300" id="timer-display">25:00</div>
        
        <!-- 控制按钮（仅图标，无文字） -->
        <div class="flex justify-center gap-6">
            <button id="start-btn" class="w-14 h-14 rounded-full bg-rainbow1 text-white flex items-center justify-center shadow-md hover:bg-rainbow1/90 transition-all hover:scale-110 hover:shadow-lg">
                <i class="fa fa-play text-xl"></i>
            </button>
            <button id="pause-btn" class="w-14 h-14 rounded-full bg-rainbow2 text-rainbow5 flex items-center justify-center shadow-md hover:bg-rainbow2/90 transition-all hover:scale-110 hover:shadow-lg" disabled>
                <i class="fa fa-pause text-xl"></i>
            </button>
            <button id="reset-btn" class="w-14 h-14 rounded-full bg-rainbow4 text-white flex items-center justify-center shadow-md hover:bg-rainbow4/90 transition-all hover:scale-110 hover:shadow-lg">
                <i class="fa fa-refresh text-xl"></i>
            </button>
        </div>
    </div>

    <!-- 右下角水印 -->
    <div class="absolute bottom-4 right-6 text-white/50 text-sm z-10">
        Flyz远征飞智能桌面系统_测试版
    </div>
</div>

<script>
    // 初始化第三方粒子背景（全彩丝滑效果）
    particlesJS('particles-js', {
        "particles": {
            "number": {
                "value": 80, // 粒子数量（适中不拥挤）
                "density": {
                    "enable": true,
                    "value_area": 800
                }
            },
            "color": {
                "value": ["#FF6B6B", "#FFD166", "#06D6A0", "#118AB2", "#073B4C"] // 全彩粒子
            },
            "shape": {
                "type": "circle" // 圆形粒子（柔和美观）
            },
            "opacity": {
                "value": 0.7,
                "random": true,
                "anim": {
                    "enable": true,
                    "speed": 1,
                    "opacity_min": 0.3,
                    "sync": false
                }
            },
            "size": {
                "value": 3,
                "random": true,
                "anim": {
                    "enable": true,
                    "speed": 2,
                    "size_min": 1,
                    "sync": false
                }
            },
            "line_linked": {
                "enable": true,
                "distance": 150,
                "color": "#ffffff",
                "opacity": 0.2,
                "width": 1
            },
            "move": {
                "enable": true,
                "speed": 1.5, // 移动速度（缓慢丝滑）
                "direction": "none",
                "random": true,
                "straight": false,
                "out_mode": "out",
                "bounce": false
            }
        },
        "interactivity": {
            "detect_on": "canvas",
            "events": {
                "onhover": {
                    "enable": true,
                    "mode": "grab" // hover时粒子吸附效果
                },
                "onclick": {
                    "enable": true,
                    "mode": "push" // 点击时新增粒子
                },
                "resize": true
            },
            "modes": {
                "grab": {
                    "distance": 140,
                    "line_linked": {
                        "opacity": 0.5
                    }
                },
                "push": {
                    "particles_nb": 4
                }
            }
        },
        "retina_detect": true // 视网膜屏适配（清晰无锯齿）
    });

    // 翻页时钟核心功能
    const clockDigits = document.querySelectorAll('.flip-clock');
    let lastTime = '';

    function updateClock() {
        const now = new Date();
        const hours = String(now.getHours()).padStart(2, '0');
        const minutes = String(now.getMinutes()).padStart(2, '0');
        const seconds = String(now.getSeconds()).padStart(2, '0');
        const currentTime = hours + minutes + seconds;

        if (currentTime !== lastTime) {
            updateDigits(currentTime);
            lastTime = currentTime;
        }
    }

    function updateDigits(timeStr) {
        clockDigits.forEach((digitEl, index) => {
            const currentDigit = digitEl.dataset.digit;
            const newDigit = timeStr[index];

            if (currentDigit !== newDigit) {
                const backFace = digitEl.querySelector('.back');
                backFace.textContent = newDigit;
                
                const card = digitEl.querySelector('.flip-card');
                card.classList.add('flipped');
                
                // 确保动画完成后更新正面文字
                setTimeout(() => {
                    const frontFace = digitEl.querySelector('.front');
                    frontFace.textContent = newDigit;
                    digitEl.dataset.digit = newDigit;
                    card.classList.remove('flipped');
                }, 400);
            }
        });
    }

    // 番茄钟功能
    let timerInterval;
    let totalSeconds = 25 * 60; // 默认25分钟
    let isRunning = false;
    const timerDisplay = document.getElementById('timer-display');
    const startBtn = document.getElementById('start-btn');
    const pauseBtn = document.getElementById('pause-btn');
    const resetBtn = document.getElementById('reset-btn');

    // 时间显示格式化
    function formatTime(seconds) {
        const mins = Math.floor(seconds / 60);
        const secs = seconds % 60;
        return `${String(mins).padStart(2, '0')}:${String(secs).padStart(2, '0')}`;
    }

    // 更新番茄钟显示
    function updateTimerDisplay() {
        timerDisplay.textContent = formatTime(totalSeconds);
    }

    // 点击时间显示修改时长（循环切换：15/25/30/45/60分钟）
    timerDisplay.addEventListener('click', () => {
        if (!isRunning) { // 仅停止时可修改
            const presets = [15, 25, 30, 45, 60];
            const currentMins = Math.floor(totalSeconds / 60);
            const currentIndex = presets.indexOf(currentMins);
            const nextIndex = (currentIndex + 1) % presets.length;
            totalSeconds = presets[nextIndex] * 60;
            updateTimerDisplay();
        }
    });

    // 开始计时
    function startTimer() {
        if (!isRunning) {
            isRunning = true;
            startBtn.disabled = true;
            pauseBtn.disabled = false;

            timerInterval = setInterval(() => {
                if (totalSeconds > 0) {
                    totalSeconds--;
                    updateTimerDisplay();
                } else {
                    clearInterval(timerInterval);
                    isRunning = false;
                    startBtn.disabled = false;
                    pauseBtn.disabled = true;
                    // 计时结束轻微动画提示
                    timerDisplay.classList.add('animate-pulse');
                    setTimeout(() => timerDisplay.classList.remove('animate-pulse'), 2000);
                }
            }, 1000);
        }
    }

    // 暂停计时
    function pauseTimer() {
        if (isRunning) {
            clearInterval(timerInterval);
            isRunning = false;
            startBtn.disabled = false;
            pauseBtn.disabled = true;
        }
    }

    // 重置计时
    function resetTimer() {
        clearInterval(timerInterval);
        isRunning = false;
        totalSeconds = 25 * 60; // 重置为默认25分钟
        updateTimerDisplay();
        startBtn.disabled = false;
        pauseBtn.disabled = true;
    }

    // 按钮事件监听
    startBtn.addEventListener('click', startTimer);
    pauseBtn.addEventListener('click', pauseTimer);
    resetBtn.addEventListener('click', resetTimer);

    // 初始化
    window.onload = () => {
        updateTimerDisplay();
        updateClock();
        setInterval(updateClock, 1000);
    };

    // 窗口大小适配
    window.addEventListener('resize', () => {
        const width = window.innerWidth;
        if (width < 768) {
            // 移动端缩小时钟
            clockDigits.forEach(digit => {
                digit.style.width = '50px';
                digit.style.height = '75px';
                digit.querySelectorAll('.flip-face').forEach(face => {
                    face.style.fontSize = '2.5rem';
                });
            });
            timerDisplay.style.fontSize = '5xl';
        } else {
            // 桌面/电视端正常大小
            clockDigits.forEach(digit => {
                digit.style.width = '65px';
                digit.style.height = '95px';
                digit.querySelectorAll('.flip-face').forEach(face => {
                    face.style.fontSize = '3.2rem';
                });
            });
            timerDisplay.style.fontSize = '6xl';
        }
    });
</script>
</body>
</html>
