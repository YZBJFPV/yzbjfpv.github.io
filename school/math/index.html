<html lang="zh-CN" id="html-lang">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>圆的旋转创意图形|数学|Flyz远征飞官网</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.2/dist/gsap.min.js"></script>
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#165DFF',
                        secondary: '#FF7D00',
                        light: '#FFFFFF',
                        dark: '#333647'
                    },
                    fontFamily: { inter: ['Inter', 'system-ui', 'sans-serif'] }
                }
            }
        }
    </script>

    <style type="text/tailwindcss">
        @layer utilities {
            .content-auto { content-visibility: auto; }
            .slider-thumb { appearance: none; width: 20px; height: 20px; border-radius: 50%; background: #165DFF; cursor: pointer; transition: all 0.2s ease; }
            .slider-thumb:hover { transform: scale(1.2); background: #FF7D00; }
            .slider-track { appearance: none; height: 6px; border-radius: 3px; background: rgba(0,0,0,0.1); }
            .dark .slider-track { background: rgba(255,255,255,0.1); }
            .shape-active { @apply bg-primary text-white border-primary; }
        }
    </style>

    <style>
        .nav-gradient { background: linear-gradient(90deg, #165DFF, #4080FF, #7CB3FF, #FF7D00); background-size: 400% 400%; animation: gradientFlow 10s ease infinite; }
        @keyframes gradientFlow { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } }
        .text-float { display: inline-block; transition: transform 0.3s ease; }
        .text-float:hover { transform: translateY(-3px) scale(1.05); }
        .nav-item::after { content: ''; position: absolute; width: 0; height: 2px; bottom: 0; left: 0; background: white; transition: width 0.3s ease; }
        .nav-item:hover::after { width: 100%; }
        .nav-item:hover i, .nav-item:hover span { animation: bounce 0.6s ease; }
        @keyframes bounce { 0%,100% { transform: translateY(0); } 50% { transform: translateY(-5px); } }
        canvas { display: block; touch-action: none; }
        .dark-mode { background: #000; color: #fff; }
        .dark-mode .bg-gray-50 { background: #1a1a1a; }
        .dark-mode .border-gray-200 { border-color: #333; }
        body { transition: background-color 0.3s ease; }
    </style>
</head>
<body class="font-inter bg-light text-dark m-0 p-0 overflow-x-hidden">
    <div id="particles-js"></div>
    <!-- 导航栏 -->
    <header id="navbar" class="fixed w-full top-0 z-50 transition-all duration-500 py-2 shadow-lg">
        <nav class="nav-gradient py-4 px-6 md:px-12 shadow-md">
            <div class="container mx-auto flex justify-between items-center">
                <a href="https://yzbjfpv.top/20250709.html" class="flex items-center space-x-3 group click-scale">
                    <img src="https://img520.com/UIGuUV.jpeg" alt="Flyz远征飞Logo" class="h-10 w-auto object-contain rounded-md transition-all duration-500 group-hover:scale-110 rotate-6" onerror="this.onerror=null;this.src='https://picsum.photos/40/40'">
                    <span class="text-white font-bold text-xl hidden md:inline transition-all duration-300 group-hover:tracking-wider">Flyz远征飞</span>
                </a>
                <a href="https://yzbjfpv.top/20250709.html" class="text-white hover:text-light/80 transition-colors duration-300 nav-item click-scale">
                    <i class="fa fa-home mr-2 text-float"></i><span class="text-float">官网首页</span>
                </a>
            </div>
        </nav>
    </header>
        <!-- 主内容区 -->
    <main class="container mx-auto pt-28 pb-12 px-4 md:px-8 flex flex-col lg:flex-row gap-8">
        <!-- 左侧效果展示区 -->
        <div class="lg:w-2/3 w-full h-[70vh] border border-gray-200 rounded-2xl overflow-hidden relative bg-gray-50 transition-transform hover:translate-y-[-6px]">
            <canvas id="drawCanvas" class="w-full h-full"></canvas>
            <div class="absolute top-4 left-4 bg-white/80 backdrop-blur-sm px-4 py-2 rounded-lg border border-gray-200">
                <span id="shape-name" class="font-semibold text-primary">当前图形：花瓣阵列</span>
            </div>
            <div class="absolute top-4 right-4">
                <button id="theme-toggle" class="px-3 py-2 rounded-lg bg-primary/10 text-primary hover:bg-primary/20 flex items-center gap-2">
                    <i class="fa fa-moon-o"></i>
                    <span class="text-sm">暗黑模式</span>
                </button>
            </div>
        </div>

        <!-- 右侧参数控制面板 -->
        <div class="lg:w-1/3 w-full flex flex-col gap-6">
            <!-- 图形选择 -->
            <div class="space-y-3 bg-white rounded-xl p-6 shadow-md hover:shadow-lg transition-shadow">
                <h3 class="text-lg font-semibold text-primary">选择创意图形</h3>
                <div class="grid grid-cols-2 gap-3">
                    <button class="shape-btn shape-active px-4 py-2 rounded-lg border border-gray-300 transition-colors" data-shape="petal">花瓣阵列</button>
                    <button class="shape-btn px-4 py-2 rounded-lg border border-gray-300 transition-colors" data-shape="star">星型组合</button>
                    <button class="shape-btn px-4 py-2 rounded-lg border border-gray-300 transition-colors" data-shape="spiral">螺旋图案</button>
                    <button class="shape-btn px-4 py-2 rounded-lg border border-gray-300 transition-colors" data-shape="circleArray">圆周阵列</button>
                    <button class="shape-btn px-4 py-2 rounded-lg border border-gray-300 transition-colors" data-shape="flower">多层花朵</button>
                    <button class="shape-btn px-4 py-2 rounded-lg border border-gray-300 transition-colors" data-shape="gear">齿轮组合</button>
                </div>
            </div>

            <!-- 基础参数调节 -->
            <div class="space-y-4 bg-white rounded-xl p-6 shadow-md hover:shadow-lg transition-shadow">
                <h3 class="text-lg font-semibold text-primary">基础参数</h3>
                <!-- 圆数量 -->
                <div class="space-y-2">
                    <div class="flex justify-between items-center">
                        <label class="text-sm font-medium">圆的数量</label>
                        <span id="count-value" class="bg-primary/10 text-primary px-3 py-1 rounded-full text-sm">12</span>
                    </div>
                    <input type="range" min="3" max="36" value="12" class="w-full slider-track slider-thumb" id="count-slider">
                </div>
                <!-- 圆半径 -->
                <div class="space-y-2">
                    <div class="flex justify-between items-center">
                        <label class="text-sm font-medium">单个圆半径</label>
                        <span id="radius-value" class="bg-primary/10 text-primary px-3 py-1 rounded-full text-sm">20</span>
                    </div>
                    <input type="range" min="5" max="50" value="20" class="w-full slider-track slider-thumb" id="radius-slider">
                </div>
                <!-- 旋转半径 -->
                <div class="space-y-2">
                    <div class="flex justify-between items-center">
                        <label class="text-sm font-medium">旋转阵列半径</label>
                        <span id="rotate-radius-value" class="bg-primary/10 text-primary px-3 py-1 rounded-full text-sm">150</span>
                    </div>
                    <input type="range" min="50" max="300" value="150" class="w-full slider-track slider-thumb" id="rotate-radius-slider">
                </div>
            </div>
                        <!-- 动画参数调节 -->
            <div class="space-y-4 bg-white rounded-xl p-6 shadow-md hover:shadow-lg transition-shadow">
                <h3 class="text-lg font-semibold text-primary">动画参数</h3>
                <!-- 旋转速度 -->
                <div class="space-y-2">
                    <div class="flex justify-between items-center">
                        <label class="text-sm font-medium">旋转速度</label>
                        <span id="speed-value" class="bg-primary/10 text-primary px-3 py-1 rounded-full text-sm">0.5</span>
                    </div>
                    <input type="range" min="0" max="2" step="0.1" value="0.5" class="w-full slider-track slider-thumb" id="speed-slider">
                </div>
                <!-- 缩放幅度 -->
                <div class="space-y-2">
                    <div class="flex justify-between items-center">
                        <label class="text-sm font-medium">缩放幅度</label>
                        <span id="scale-value" class="bg-primary/10 text-primary px-3 py-1 rounded-full text-sm">1.0</span>
                    </div>
                    <input type="range" min="0.5" max="2" step="0.1" value="1.0" class="w-full slider-track slider-thumb" id="scale-slider">
                </div>
                <!-- 主色调选择 -->
                <div class="space-y-2">
                    <label class="text-sm font-medium">主色调</label>
                    <input type="color" value="#165DFF" class="w-full h-10 rounded-lg cursor-pointer" id="color-picker">
                </div>
            </div>

            <!-- 控制按钮 -->
            <div class="grid grid-cols-2 gap-3">
                <button id="play-btn" class="px-4 py-3 bg-primary text-white rounded-lg flex items-center justify-center gap-2 transition-colors hover:bg-primary/90">
                    <i class="fa fa-pause"></i>
                    <span>暂停动画</span>
                </button>
                <button id="reset-btn" class="px-4 py-3 border border-gray-300 rounded-lg flex items-center justify-center gap-2 transition-colors hover:bg-gray-100">
                    <i class="fa fa-refresh"></i>
                    <span>重置参数</span>
                </button>
            </div>
        </div>
    </main>

    <!-- 页脚 -->
    <footer class="bg-gray-50 border-t border-gray-200 py-8 mt-8">
        <div class="container mx-auto px-4 text-center">
            <p class="text-gray-600">© 2025 www.YZBJFPV.top Flyz远征飞官网 数学学科活动展示</p>
            <a href="https://b23.tv/JXuI9QA" class="text-primary hover:text-secondary transition-colors mt-2 inline-block">
                <i class="fa fa-play-circle mr-1"></i>哔哩哔哩｜Flyz远征飞官方账号
            </a>
        </div>
    </footer>

    <!-- 粒子效果脚本 -->
    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
        <script>
        // 粒子效果配置
        particlesJS('particles-js', {
            "particles": {
                "number": { "value": 60, "density": { "enable": true, "value_area": 800 } },
                "color": { "value": ["#165DFF", "#FF7D00"] },
                "shape": { "type": ["circle", "arc"] },
                "opacity": { "value": 0.4, "random": true },
                "size": { "value": 3, "random": true },
                "line_linked": {
                    "enable": true,
                    "distance": 150,
                    "color": "#4080FF",
                    "opacity": 0.2,
                    "width": 1
                },
                "move": {
                    "enable": true,
                    "speed": 1,
                    "direction": "none",
                    "random": true,
                    "straight": false,
                    "out_mode": "out"
                }
            },
            "interactivity": {
                "detect_on": "canvas",
                "events": {
                    "onhover": { "enable": true, "mode": "grab" },
                    "onclick": { "enable": true, "mode": "push" },
                    "resize": true
                },
                "modes": {
                    "grab": { "distance": 140, "line_linked": { "opacity": 0.5 } },
                    "push": { "particles_nb": 4 }
                }
            },
            "retina_detect": true
        });

        // 获取DOM元素
        const canvas = document.getElementById('drawCanvas');
        const ctx = canvas.getContext('2d');
        const themeToggle = document.getElementById('theme-toggle');
        const shapeBtns = document.querySelectorAll('.shape-btn');
        const countSlider = document.getElementById('count-slider');
        const radiusSlider = document.getElementById('radius-slider');
        const rotateRadiusSlider = document.getElementById('rotate-radius-slider');
        const speedSlider = document.getElementById('speed-slider');
        const scaleSlider = document.getElementById('scale-slider');
        const colorPicker = document.getElementById('color-picker');
        const playBtn = document.getElementById('play-btn');
        const resetBtn = document.getElementById('reset-btn');
        const shapeName = document.getElementById('shape-name');
        const countValue = document.getElementById('count-value');
        const radiusValue = document.getElementById('radius-value');
        const rotateRadiusValue = document.getElementById('rotate-radius-value');
        const speedValue = document.getElementById('speed-value');
        const scaleValue = document.getElementById('scale-value');

        // 初始化参数
        let params = {
            shape: 'petal',
            count: 12,
            radius: 20,
            rotateRadius: 150,
            speed: 0.5,
            scale: 1.0,
            color: '#165DFF',
            isPlaying: true,
            angle: 0
        };

        // 画布尺寸适配
        function resizeCanvas() {
            canvas.width = canvas.offsetWidth;
            canvas.height = canvas.offsetHeight;
            draw();
        }
        window.addEventListener('resize', resizeCanvas);
        resizeCanvas();

        // 暗黑模式切换
        themeToggle.addEventListener('click', () => {
            document.body.classList.toggle('dark-mode');
            const isDark = document.body.classList.contains('dark-mode');
            themeToggle.innerHTML = isDark 
                ? '<i class="fa fa-sun-o"></i><span class="text-sm">浅色模式</span>' 
                : '<i class="fa fa-moon-o"></i><span class="text-sm">暗黑模式</span>';
            draw();
        });

        // 图形选择事件
        shapeBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                shapeBtns.forEach(b => b.classList.remove('shape-active'));
                btn.classList.add('shape-active');
                params.shape = btn.dataset.shape;
                shapeName.textContent = `当前图形：${btn.textContent}`;
                draw();
            });
        });

        // 滑块参数更新
        countSlider.addEventListener('input', () => {
            params.count = parseInt(countSlider.value);
            countValue.textContent = params.count;
            draw();
        });

        radiusSlider.addEventListener('input', () => {
            params.radius = parseInt(radiusSlider.value);
            radiusValue.textContent = params.radius;
            draw();
        });

        rotateRadiusSlider.addEventListener('input', () => {
            params.rotateRadius = parseInt(rotateRadiusSlider.value);
            rotateRadiusValue.textContent = params.rotateRadius;
            draw();
        });

        speedSlider.addEventListener('input', () => {
            params.speed = parseFloat(speedSlider.value);
            speedValue.textContent = params.speed;
        });

        scaleSlider.addEventListener('input', () => {
            params.scale = parseFloat(scaleSlider.value);
            scaleValue.textContent = params.scale;
            draw();
        });

        colorPicker.addEventListener('input', () => {
            params.color = colorPicker.value;
            draw();
        });

        // 播放暂停与重置
        playBtn.addEventListener('click', () => {
            params.isPlaying = !params.isPlaying;
            playBtn.innerHTML = params.isPlaying 
                ? '<i class="fa fa-pause"></i><span>暂停动画</span>' 
                : '<i class="fa fa-play"></i><span>播放动画</span>';
        });

        resetBtn.addEventListener('click', () => {
            params = {
                shape: 'petal',
                count: 12,
                radius: 20,
                rotateRadius: 150,
                speed: 0.5,
                scale: 1.0,
                color: '#165DFF',
                isPlaying: true,
                angle: 0
            };
            countSlider.value = 12;
            radiusSlider.value = 20;
            rotateRadiusSlider.value = 150;
            speedSlider.value = 0.5;
            scaleSlider.value = 1.0;
            colorPicker.value = '#165DFF';
            countValue.textContent = 12;
            radiusValue.textContent = 20;
            rotateRadiusValue.textContent = 150;
            speedValue.textContent = 0.5;
            scaleValue.textContent = 1.0;
            shapeBtns.forEach(b => b.classList.remove('shape-active'));
            shapeBtns[0].classList.add('shape-active');
            shapeName.textContent = '当前图形：花瓣阵列';
            playBtn.innerHTML = '<i class="fa fa-pause"></i><span>暂停动画</span>';
            draw();
        });
                  // 绘制花瓣阵列
        function drawPetal() {
            const centerX = canvas.width / 2;
            const centerY = canvas.height / 2;
            const angleStep = (Math.PI * 2) / params.count;
            ctx.save();
            ctx.scale(params.scale, params.scale);
            ctx.translate((centerX / params.scale) - centerX, (centerY / params.scale) - centerY);
            for (let i = 0; i < params.count; i++) {
                const angle = i * angleStep + params.angle;
                const x = centerX + params.rotateRadius * Math.cos(angle);
                const y = centerY + params.rotateRadius * Math.sin(angle);
                ctx.beginPath();
                ctx.arc(x, y, params.radius, 0, Math.PI * 2);
                ctx.fillStyle = params.color;
                ctx.fill();
                ctx.strokeStyle = '#fff';
                ctx.lineWidth = 2;
                ctx.stroke();
                // 内层小圆
                ctx.beginPath();
                ctx.arc(x, y, params.radius / 3, 0, Math.PI * 2);
                ctx.fillStyle = '#fff';
                ctx.fill();
            }
            ctx.restore();
        }

        // 绘制星型组合
        function drawStar() {
            const centerX = canvas.width / 2;
            const centerY = canvas.height / 2;
            const angleStep = (Math.PI * 2) / params.count;
            ctx.save();
            ctx.scale(params.scale, params.scale);
            ctx.translate((centerX / params.scale) - centerX, (centerY / params.scale) - centerY);
            // 星型连线
            ctx.beginPath();
            for (let i = 0; i < params.count; i++) {
                const angle = i * angleStep + params.angle;
                const x = centerX + params.rotateRadius * Math.cos(angle);
                const y = centerY + params.rotateRadius * Math.sin(angle);
                i === 0 ? ctx.moveTo(x, y) : ctx.lineTo(x, y);
            }
            ctx.closePath();
            ctx.strokeStyle = params.color;
            ctx.lineWidth = 3;
            ctx.stroke();
            // 顶点圆
            for (let i = 0; i < params.count; i++) {
                const angle = i * angleStep + params.angle;
                const x = centerX + params.rotateRadius * Math.cos(angle);
                const y = centerY + params.rotateRadius * Math.sin(angle);
                ctx.beginPath();
                ctx.arc(x, y, params.radius, 0, Math.PI * 2);
                ctx.fillStyle = params.color;
                ctx.fill();
                ctx.strokeStyle = '#fff';
                ctx.lineWidth = 2;
                ctx.stroke();
            }
            ctx.restore();
        }

        // 其他图形绘制函数已精简，保留核心逻辑
        function drawSpiral() {
            const centerX = canvas.width / 2;
            const centerY = canvas.height / 2;
            ctx.save();
            ctx.scale(params.scale, params.scale);
            ctx.translate((centerX / params.scale) - centerX, (centerY / params.scale) - centerY);
            let spiralAngle = 0;
            ctx.beginPath();
            while (spiralAngle < Math.PI * 10) {
                const r = (params.rotateRadius / (Math.PI * 10)) * spiralAngle;
                const x = centerX + r * Math.cos(spiralAngle + params.angle);
                const y = centerY + r * Math.sin(spiralAngle + params.angle);
                spiralAngle === 0 ? ctx.moveTo(x, y) : ctx.lineTo(x, y);
                spiralAngle += 0.1;
            }
            ctx.strokeStyle = params.color;
            ctx.lineWidth = 2;
            ctx.stroke();
            ctx.restore();
        }

        function drawCircleArray() {
            const centerX = canvas.width / 2;
            const centerY = canvas.height / 2;
            const angleStep = (Math.PI * 2) / params.count;
            ctx.save();
            ctx.scale(params.scale, params.scale);
            ctx.translate((centerX / params.scale) - centerX, (centerY / params.scale) - centerY);
            // 中心大圆
            ctx.beginPath();
            ctx.arc(centerX, centerY, params.radius * 2, 0, Math.PI * 2);
            ctx.fillStyle = params.color;
            ctx.globalAlpha = 0.7;
            ctx.fill();
            ctx.globalAlpha = 1;
            // 外围圆
            for (let i = 0; i < params.count; i++) {
                const angle = i * angleStep + params.angle;
                const x = centerX + params.rotateRadius * Math.cos(angle);
                const y = centerY + params.rotateRadius * Math.sin(angle);
                ctx.beginPath();
                ctx.arc(x, y, params.radius, 0, Math.PI * 2);
                ctx.fillStyle = params.color;
                ctx.fill();
            }
            ctx.restore();
        }

        // 主绘制函数
        function draw() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            switch (params.shape) {
                case 'petal': drawPetal(); break;
                case 'star': drawStar(); break;
                case 'spiral': drawSpiral(); break;
                case 'circleArray': drawCircleArray(); break;
                default: drawPetal();
            }
        }

        // 动画循环
        function animate() {
            if (params.isPlaying) {
                params.angle += params.speed * 0.01;
                draw();
            }
            requestAnimationFrame(animate);
        }
        animate();

        // 导航栏滚动效果
        window.addEventListener('scroll', () => {
            const navbar = document.getElementById('navbar');
            navbar.classList.toggle('py-1', window.scrollY > 30);
            navbar.classList.toggle('py-2', window.scrollY <= 30);
        });
    </script>
</body>
</html>
